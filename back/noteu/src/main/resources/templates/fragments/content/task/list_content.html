<!DOCTYPE html>
<html lang="en" data-layout-mode="detached" data-topbar-color="dark" data-menu-color="light" data-sidenav-user="true"
        xmlns:th="http://www.thymeleaf.org">
    <th:block th:fragment="listContentFragment">
        <div class="content">

            <!-- Start Content-->
            <div class="container-fluid">

                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box">
                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="/subjects">Noteu</a></li>
                                    <li class="breadcrumb-item"><a href="#">Apps</a></li>
                                    <li class="breadcrumb-item"><a th:href="'/subjects/'+${subjectId}+'/tasks'">Task</a></li>
                                    <li class="breadcrumb-item active">Task List</li>
                                </ol>
                            </div>
                            <h4 class="page-title">Task List</h4>
                        </div>
                    </div>
                </div>
                <!-- end page title -->

                <div class="row mb-2" th:if="${#authorization.expression('hasRole(''ROLE_TEACHER'')')}">
                    <div class="col-sm-4">
                        <a th:href="@{'/subjects/' + ${subjectId} + '/tasks/add-form'}" class="btn btn-success rounded-pill mb-3"><i class="mdi mdi-plus"></i>Create Task</a>
                    </div>
                </div> 
                
                <div class="row">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Title</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="l: ${task_list}" th:onclick="'detail(\'' + ${l.id} + '\')'">
                                <td th:text="${l.id}"></td>
                                <td th:text="${l.taskTitle}"></td>
                                <td th:text="${l.deadLine}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div> <!-- container -->

        </div> <!-- content -->
    </th:block>
</html>